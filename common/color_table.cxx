#include "color_table.hxx"

//bent cool warm
//scalar,RGB_r,RGB_g,RGB_b
const static double bent_cool_warm[] = {
    0.0,85,72,193, 
    0.00392156862745,86,74,194, 
    0.0078431372549,87,75,194, 
    0.0117647058824,88,77,195, 
    0.0156862745098,88,78,196, 
    0.0196078431373,89,79,196, 
    0.0235294117647,90,81,197, 
    0.0274509803922,90,82,197, 
    0.0313725490196,91,84,198, 
    0.0352941176471,92,85,199, 
    0.0392156862745,93,87,199, 
    0.043137254902,94,88,200, 
    0.0470588235294,94,90,200, 
    0.0509803921569,95,91,201, 
    0.0549019607843,96,92,202, 
    0.0588235294118,97,94,202, 
    0.0627450980392,98,95,203, 
    0.0666666666667,98,97,203, 
    0.0705882352941,99,98,204, 
    0.0745098039216,100,99,204, 
    0.078431372549,101,101,205, 
    0.0823529411765,102,102,206, 
    0.0862745098039,103,104,206, 
    0.0901960784314,104,105,207, 
    0.0941176470588,104,106,207, 
    0.0980392156863,105,108,208, 
    0.101960784314,106,109,208, 
    0.105882352941,107,110,209, 
    0.109803921569,108,112,209, 
    0.113725490196,109,113,210, 
    0.117647058824,110,115,210, 
    0.121568627451,111,116,211, 
    0.125490196078,112,117,211, 
    0.129411764706,113,119,212, 
    0.133333333333,114,120,212, 
    0.137254901961,115,121,213, 
    0.141176470588,116,123,213, 
    0.145098039216,117,124,214, 
    0.149019607843,118,125,214, 
    0.152941176471,119,127,215, 
    0.156862745098,120,128,215, 
    0.160784313725,121,129,215, 
    0.164705882353,122,131,216, 
    0.16862745098,123,132,216, 
    0.172549019608,124,134,217, 
    0.176470588235,125,135,217, 
    0.180392156863,126,136,218, 
    0.18431372549,127,138,218, 
    0.188235294118,128,139,218, 
    0.192156862745,129,140,219, 
    0.196078431373,130,142,219, 
    0.2,132,143,220, 
    0.203921568627,133,144,220, 
    0.207843137255,134,146,221, 
    0.211764705882,135,147,221, 
    0.21568627451,136,148,221, 
    0.219607843137,137,150,222, 
    0.223529411765,138,151,222, 
    0.227450980392,140,152,222, 
    0.23137254902,141,154,223, 
    0.235294117647,142,155,223, 
    0.239215686275,143,156,224, 
    0.243137254902,144,158,224, 
    0.247058823529,146,159,224, 
    0.250980392157,147,160,225, 
    0.254901960784,148,162,225, 
    0.258823529412,149,163,225, 
    0.262745098039,151,164,226, 
    0.266666666667,152,166,226, 
    0.270588235294,153,167,226, 
    0.274509803922,154,168,227, 
    0.278431372549,156,170,227, 
    0.282352941176,157,171,227, 
    0.286274509804,158,172,228, 
    0.290196078431,160,174,228, 
    0.294117647059,161,175,228, 
    0.298039215686,162,176,229, 
    0.301960784314,164,177,229, 
    0.305882352941,165,179,229, 
    0.309803921569,166,180,230, 
    0.313725490196,168,181,230, 
    0.317647058824,169,183,230, 
    0.321568627451,170,184,230, 
    0.325490196078,172,185,231, 
    0.329411764706,173,187,231, 
    0.333333333333,175,188,231, 
    0.337254901961,176,189,232, 
    0.341176470588,177,191,232, 
    0.345098039216,179,192,232, 
    0.349019607843,180,193,232, 
    0.352941176471,182,194,233, 
    0.356862745098,183,196,233, 
    0.360784313725,185,197,233, 
    0.364705882353,186,198,234, 
    0.36862745098,188,200,234, 
    0.372549019608,189,201,234, 
    0.376470588235,191,202,234, 
    0.380392156863,192,204,235, 
    0.38431372549,194,205,235, 
    0.388235294118,195,206,235, 
    0.392156862745,197,207,235, 
    0.396078431373,198,209,236, 
    0.4,200,210,236, 
    0.403921568627,201,211,236, 
    0.407843137255,203,213,236, 
    0.411764705882,205,214,237, 
    0.41568627451,206,215,237, 
    0.419607843137,208,216,237, 
    0.423529411765,209,218,237, 
    0.427450980392,211,219,238, 
    0.43137254902,213,220,238, 
    0.435294117647,214,221,238, 
    0.439215686275,216,223,238, 
    0.443137254902,217,224,239, 
    0.447058823529,219,225,239, 
    0.450980392157,221,227,239, 
    0.454901960784,222,228,239, 
    0.458823529412,224,229,240, 
    0.462745098039,226,230,240, 
    0.466666666667,227,232,240, 
    0.470588235294,229,233,240, 
    0.474509803922,231,234,241, 
    0.478431372549,233,235,241, 
    0.482352941176,234,237,241, 
    0.486274509804,236,238,241, 
    0.490196078431,238,239,242, 
    0.494117647059,240,240,242, 
    0.498039215686,241,242,242, 
    0.501960784314,242,242,241, 
    0.505882352941,242,240,239, 
    0.509803921569,241,239,237, 
    0.513725490196,241,237,235, 
    0.517647058824,240,236,232, 
    0.521568627451,240,234,230, 
    0.525490196078,239,233,228, 
    0.529411764706,239,231,226, 
    0.533333333333,239,230,224, 
    0.537254901961,238,228,221, 
    0.541176470588,238,226,219, 
    0.545098039216,237,225,217, 
    0.549019607843,237,223,215, 
    0.552941176471,237,222,213, 
    0.556862745098,236,220,211, 
    0.560784313725,236,219,209, 
    0.564705882353,235,217,207, 
    0.56862745098,235,216,205, 
    0.572549019608,234,214,203, 
    0.576470588235,234,213,200, 
    0.580392156863,234,211,198, 
    0.58431372549,233,210,196, 
    0.588235294118,233,208,194, 
    0.592156862745,232,207,192, 
    0.596078431373,232,205,190, 
    0.6,231,204,188, 
    0.603921568627,231,202,186, 
    0.607843137255,231,201,184, 
    0.611764705882,230,199,182, 
    0.61568627451,230,198,180, 
    0.619607843137,229,196,178, 
    0.623529411765,229,195,176, 
    0.627450980392,228,193,175, 
    0.63137254902,228,192,173, 
    0.635294117647,228,190,171, 
    0.639215686275,227,188,169, 
    0.643137254902,227,187,167, 
    0.647058823529,226,185,165, 
    0.650980392157,226,184,163, 
    0.654901960784,225,182,161, 
    0.658823529412,225,181,159, 
    0.662745098039,224,179,158, 
    0.666666666667,224,178,156, 
    0.670588235294,224,176,154, 
    0.674509803922,223,175,152, 
    0.678431372549,223,173,150, 
    0.682352941176,222,171,148, 
    0.686274509804,222,170,147, 
    0.690196078431,221,168,145, 
    0.694117647059,221,167,143, 
    0.698039215686,220,165,141, 
    0.701960784314,220,164,140, 
    0.705882352941,219,162,138, 
    0.709803921569,219,161,136, 
    0.713725490196,219,159,134, 
    0.717647058824,218,157,133, 
    0.721568627451,218,156,131, 
    0.725490196078,217,154,129, 
    0.729411764706,217,153,128, 
    0.733333333333,216,151,126, 
    0.737254901961,216,149,124, 
    0.741176470588,215,148,123, 
    0.745098039216,215,146,121, 
    0.749019607843,214,145,119, 
    0.752941176471,214,143,118, 
    0.756862745098,213,141,116, 
    0.760784313725,213,140,115, 
    0.764705882353,212,138,113, 
    0.76862745098,212,137,111, 
    0.772549019608,211,135,110, 
    0.776470588235,211,133,108, 
    0.780392156863,210,132,107, 
    0.78431372549,210,130,105, 
    0.788235294118,209,129,104, 
    0.792156862745,209,127,102, 
    0.796078431373,208,125,101, 
    0.8,208,124,99, 
    0.803921568627,207,122,98, 
    0.807843137255,207,120,96, 
    0.811764705882,206,119,95, 
    0.81568627451,206,117,93, 
    0.819607843137,205,115,92, 
    0.823529411765,205,114,91, 
    0.827450980392,204,112,89, 
    0.83137254902,203,110,88, 
    0.835294117647,203,109,86, 
    0.839215686275,202,107,85, 
    0.843137254902,202,105,84, 
    0.847058823529,201,103,82, 
    0.850980392157,201,102,81, 
    0.854901960784,200,100,80, 
    0.858823529412,200,98,78, 
    0.862745098039,199,96,77, 
    0.866666666667,198,95,76, 
    0.870588235294,198,93,74, 
    0.874509803922,197,91,73, 
    0.878431372549,197,89,72, 
    0.882352941176,196,87,71, 
    0.886274509804,196,86,69, 
    0.890196078431,195,84,68, 
    0.894117647059,194,82,67, 
    0.898039215686,194,80,66, 
    0.901960784314,193,78,65, 
    0.905882352941,193,76,63, 
    0.909803921569,192,74,62, 
    0.913725490196,191,72,61, 
    0.917647058824,191,70,60, 
    0.921568627451,190,68,59, 
    0.925490196078,189,66,58, 
    0.929411764706,189,64,57, 
    0.933333333333,188,62,56, 
    0.937254901961,188,59,55, 
    0.941176470588,187,57,54, 
    0.945098039216,186,55,53, 
    0.949019607843,186,52,52, 
    0.952941176471,185,50,50, 
    0.956862745098,184,47,49, 
    0.960784313725,184,45,49, 
    0.964705882353,183,42,48, 
    0.96862745098,182,39,47, 
    0.972549019608,182,36,46, 
    0.976470588235,181,33,45, 
    0.980392156863,181,29,44, 
    0.98431372549,180,25,43, 
    0.988235294118,179,21,42, 
    0.992156862745,178,15,41, 
    0.996078431373,178,8,40, 
    1.0,177,1,39
};



Color get_colormap(double value) {
    Color c;

    for (int32_t i = 0; i < 256; i++) {
        int32_t current = i * 4;

        if (value <= bent_cool_warm[current]) {
            c.red = bent_cool_warm[current + 1];
            c.green = bent_cool_warm[current + 2];
            c.blue = bent_cool_warm[current + 3];

            break;
        }
    }

    return c;
}
